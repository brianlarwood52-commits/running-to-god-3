(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let a=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],27612)},70273,e=>{"use strict";let a=(0,e.i(75254).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>a],70273)},55436,e=>{"use strict";let a=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>a],55436)},78917,e=>{"use strict";let a=(0,e.i(75254).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>a],78917)},73998,e=>{"use strict";let a=(0,e.i(75254).default)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);e.s(["Book",()=>a],73998)},48147,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(73998),s=e.i(75254);let o=(0,s.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),n=(0,s.default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var i=e.i(55436);let l=(0,s.default)("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]),d=(0,s.default)("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);var c=e.i(39616),b=e.i(70273),h=e.i(76576);let m=[{id:1,name:"Genesis",abbreviation:"Gen",testament:"OT",bookOrder:1,chapterCount:50,category:"Law"},{id:2,name:"Exodus",abbreviation:"Exod",testament:"OT",bookOrder:2,chapterCount:40,category:"Law"},{id:3,name:"Leviticus",abbreviation:"Lev",testament:"OT",bookOrder:3,chapterCount:27,category:"Law"},{id:4,name:"Numbers",abbreviation:"Num",testament:"OT",bookOrder:4,chapterCount:36,category:"Law"},{id:5,name:"Deuteronomy",abbreviation:"Deut",testament:"OT",bookOrder:5,chapterCount:34,category:"Law"},{id:6,name:"Joshua",abbreviation:"Josh",testament:"OT",bookOrder:6,chapterCount:24,category:"History"},{id:7,name:"Judges",abbreviation:"Judg",testament:"OT",bookOrder:7,chapterCount:21,category:"History"},{id:8,name:"Ruth",abbreviation:"Ruth",testament:"OT",bookOrder:8,chapterCount:4,category:"History"},{id:9,name:"1 Samuel",abbreviation:"1Sam",testament:"OT",bookOrder:9,chapterCount:31,category:"History"},{id:10,name:"2 Samuel",abbreviation:"2Sam",testament:"OT",bookOrder:10,chapterCount:24,category:"History"},{id:11,name:"1 Kings",abbreviation:"1Kgs",testament:"OT",bookOrder:11,chapterCount:22,category:"History"},{id:12,name:"2 Kings",abbreviation:"2Kgs",testament:"OT",bookOrder:12,chapterCount:25,category:"History"},{id:13,name:"1 Chronicles",abbreviation:"1Chr",testament:"OT",bookOrder:13,chapterCount:29,category:"History"},{id:14,name:"2 Chronicles",abbreviation:"2Chr",testament:"OT",bookOrder:14,chapterCount:36,category:"History"},{id:15,name:"Ezra",abbreviation:"Ezra",testament:"OT",bookOrder:15,chapterCount:10,category:"History"},{id:16,name:"Nehemiah",abbreviation:"Neh",testament:"OT",bookOrder:16,chapterCount:13,category:"History"},{id:17,name:"Esther",abbreviation:"Esth",testament:"OT",bookOrder:17,chapterCount:10,category:"History"},{id:18,name:"Job",abbreviation:"Job",testament:"OT",bookOrder:18,chapterCount:42,category:"Wisdom"},{id:19,name:"Psalms",abbreviation:"Ps",testament:"OT",bookOrder:19,chapterCount:150,category:"Wisdom"},{id:20,name:"Proverbs",abbreviation:"Prov",testament:"OT",bookOrder:20,chapterCount:31,category:"Wisdom"},{id:21,name:"Ecclesiastes",abbreviation:"Eccl",testament:"OT",bookOrder:21,chapterCount:12,category:"Wisdom"},{id:22,name:"Song of Solomon",abbreviation:"Song",testament:"OT",bookOrder:22,chapterCount:8,category:"Wisdom"},{id:23,name:"Isaiah",abbreviation:"Isa",testament:"OT",bookOrder:23,chapterCount:66,category:"Prophecy"},{id:24,name:"Jeremiah",abbreviation:"Jer",testament:"OT",bookOrder:24,chapterCount:52,category:"Prophecy"},{id:25,name:"Lamentations",abbreviation:"Lam",testament:"OT",bookOrder:25,chapterCount:5,category:"Prophecy"},{id:26,name:"Ezekiel",abbreviation:"Ezek",testament:"OT",bookOrder:26,chapterCount:48,category:"Prophecy"},{id:27,name:"Daniel",abbreviation:"Dan",testament:"OT",bookOrder:27,chapterCount:12,category:"Prophecy"},{id:28,name:"Hosea",abbreviation:"Hos",testament:"OT",bookOrder:28,chapterCount:14,category:"Prophecy"},{id:29,name:"Joel",abbreviation:"Joel",testament:"OT",bookOrder:29,chapterCount:3,category:"Prophecy"},{id:30,name:"Amos",abbreviation:"Amos",testament:"OT",bookOrder:30,chapterCount:9,category:"Prophecy"},{id:31,name:"Obadiah",abbreviation:"Obad",testament:"OT",bookOrder:31,chapterCount:1,category:"Prophecy"},{id:32,name:"Jonah",abbreviation:"Jonah",testament:"OT",bookOrder:32,chapterCount:4,category:"Prophecy"},{id:33,name:"Micah",abbreviation:"Mic",testament:"OT",bookOrder:33,chapterCount:7,category:"Prophecy"},{id:34,name:"Nahum",abbreviation:"Nah",testament:"OT",bookOrder:34,chapterCount:3,category:"Prophecy"},{id:35,name:"Habakkuk",abbreviation:"Hab",testament:"OT",bookOrder:35,chapterCount:3,category:"Prophecy"},{id:36,name:"Zephaniah",abbreviation:"Zeph",testament:"OT",bookOrder:36,chapterCount:3,category:"Prophecy"},{id:37,name:"Haggai",abbreviation:"Hag",testament:"OT",bookOrder:37,chapterCount:2,category:"Prophecy"},{id:38,name:"Zechariah",abbreviation:"Zech",testament:"OT",bookOrder:38,chapterCount:14,category:"Prophecy"},{id:39,name:"Malachi",abbreviation:"Mal",testament:"OT",bookOrder:39,chapterCount:4,category:"Prophecy"},{id:40,name:"Matthew",abbreviation:"Matt",testament:"NT",bookOrder:40,chapterCount:28,category:"Gospel"},{id:41,name:"Mark",abbreviation:"Mark",testament:"NT",bookOrder:41,chapterCount:16,category:"Gospel"},{id:42,name:"Luke",abbreviation:"Luke",testament:"NT",bookOrder:42,chapterCount:24,category:"Gospel"},{id:43,name:"John",abbreviation:"John",testament:"NT",bookOrder:43,chapterCount:21,category:"Gospel"},{id:44,name:"Acts",abbreviation:"Acts",testament:"NT",bookOrder:44,chapterCount:28,category:"History"},{id:45,name:"Romans",abbreviation:"Rom",testament:"NT",bookOrder:45,chapterCount:16,category:"Epistle"},{id:46,name:"1 Corinthians",abbreviation:"1Cor",testament:"NT",bookOrder:46,chapterCount:16,category:"Epistle"},{id:47,name:"2 Corinthians",abbreviation:"2Cor",testament:"NT",bookOrder:47,chapterCount:13,category:"Epistle"},{id:48,name:"Galatians",abbreviation:"Gal",testament:"NT",bookOrder:48,chapterCount:6,category:"Epistle"},{id:49,name:"Ephesians",abbreviation:"Eph",testament:"NT",bookOrder:49,chapterCount:6,category:"Epistle"},{id:50,name:"Philippians",abbreviation:"Phil",testament:"NT",bookOrder:50,chapterCount:4,category:"Epistle"},{id:51,name:"Colossians",abbreviation:"Col",testament:"NT",bookOrder:51,chapterCount:4,category:"Epistle"},{id:52,name:"1 Thessalonians",abbreviation:"1Thess",testament:"NT",bookOrder:52,chapterCount:5,category:"Epistle"},{id:53,name:"2 Thessalonians",abbreviation:"2Thess",testament:"NT",bookOrder:53,chapterCount:3,category:"Epistle"},{id:54,name:"1 Timothy",abbreviation:"1Tim",testament:"NT",bookOrder:54,chapterCount:6,category:"Epistle"},{id:55,name:"2 Timothy",abbreviation:"2Tim",testament:"NT",bookOrder:55,chapterCount:4,category:"Epistle"},{id:56,name:"Titus",abbreviation:"Titus",testament:"NT",bookOrder:56,chapterCount:3,category:"Epistle"},{id:57,name:"Philemon",abbreviation:"Phlm",testament:"NT",bookOrder:57,chapterCount:1,category:"Epistle"},{id:58,name:"Hebrews",abbreviation:"Heb",testament:"NT",bookOrder:58,chapterCount:13,category:"Epistle"},{id:59,name:"James",abbreviation:"Jas",testament:"NT",bookOrder:59,chapterCount:5,category:"Epistle"},{id:60,name:"1 Peter",abbreviation:"1Pet",testament:"NT",bookOrder:60,chapterCount:5,category:"Epistle"},{id:61,name:"2 Peter",abbreviation:"2Pet",testament:"NT",bookOrder:61,chapterCount:3,category:"Epistle"},{id:62,name:"1 John",abbreviation:"1John",testament:"NT",bookOrder:62,chapterCount:5,category:"Epistle"},{id:63,name:"2 John",abbreviation:"2John",testament:"NT",bookOrder:63,chapterCount:1,category:"Epistle"},{id:64,name:"3 John",abbreviation:"3John",testament:"NT",bookOrder:64,chapterCount:1,category:"Epistle"},{id:65,name:"Jude",abbreviation:"Jude",testament:"NT",bookOrder:65,chapterCount:1,category:"Epistle"},{id:66,name:"Revelation",abbreviation:"Rev",testament:"NT",bookOrder:66,chapterCount:22,category:"Apocalyptic"}],g=[18,19,20,21,22,25],u=[40,41,42,43];function p(e){return m.find(a=>a.id===e)}function x(e){let a,t=e.split(".");if(3!==t.length)return null;let r=(a=t[0].toLowerCase().trim(),m.find(e=>e.abbreviation.toLowerCase()===a));return r?{bookId:r.id,chapter:parseInt(t[1]),verse:parseInt(t[2])}:null}var y=e.i(3902),v=e.i(37727);let k=(0,s.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),N=(0,s.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var f=e.i(27612);function j({verseKey:e,onClose:r}){let{notes:s,addNote:o,updateNote:n,deleteNote:l}=(0,h.useBibleStudy)(),[d,c]=(0,t.useState)(!1),[b,m]=(0,t.useState)(null),[g,u]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),[y,j]=(0,t.useState)([]),[w,O]=(0,t.useState)(""),[T,S]=(0,t.useState)(""),[E,P]=(0,t.useState)(""),H=s.filter(a=>(!e||a.verseKey===e)&&(!T||!!a.content.toLowerCase().includes(T.toLowerCase())||!!a.title?.toLowerCase().includes(T.toLowerCase()))&&(!E||!!a.tags.includes(E))),L=Array.from(new Set(s.flatMap(e=>e.tags)));async function M(){g.trim()&&(b?await n(b.id,{title:p,content:g,tags:y}):await o({userId:"offline-user",verseKey:e,noteType:e?"verse":"journal",title:p||void 0,content:g,tags:y,isPrivate:!0}),J())}function J(){c(!1),m(null),u(""),x(""),j([]),O("")}function K(){w.trim()&&!y.includes(w.trim())&&(j([...y,w.trim()]),O(""))}return(0,a.jsxs)("div",{className:"fixed right-0 top-0 h-full w-full md:w-96 lg:w-[500px] bg-white dark:bg-gray-900 shadow-2xl z-50 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Notes"}),(0,a.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:(0,a.jsx)(v.X,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 space-y-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:T,onChange:e=>S(e.target.value),placeholder:"Search notes...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("button",{onClick:()=>{J(),c(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[(0,a.jsx)(k,{className:"w-4 h-4"}),"New"]})]}),L.length>0&&(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsx)("button",{onClick:()=>P(""),className:`px-2 py-1 text-xs rounded ${!E?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:"All"}),L.map(e=>(0,a.jsxs)("button",{onClick:()=>P(E===e?"":e),className:`px-2 py-1 text-xs rounded ${E===e?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:["#",e]},e))]})]}),d?(0,a.jsxs)("div",{className:"flex-1 flex flex-col p-4 overflow-hidden",children:[(0,a.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),placeholder:"Note title (optional)",className:"mb-3 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("textarea",{value:g,onChange:e=>u(e.target.value),placeholder:"Write your note...",className:"flex-1 mb-3 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,a.jsx)("input",{type:"text",value:w,onChange:e=>O(e.target.value),onKeyDown:e=>"Enter"===e.key&&K(),placeholder:"Add tag...",className:"flex-1 px-3 py-1 text-sm rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{onClick:K,className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Add"})]}),y.length>0&&(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:y.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded",children:["#",e,(0,a.jsx)("button",{onClick:()=>{j(y.filter(a=>a!==e))},className:"hover:text-red-600",children:(0,a.jsx)(v.X,{className:"w-3 h-3"})})]},e))})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:M,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:b?"Update Note":"Save Note"}),(0,a.jsx)("button",{onClick:J,className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:"Cancel"})]})]}):(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:0===H.length?(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(C,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,a.jsx)("p",{children:"No notes yet"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Click the + button to create your first note"})]}):H.map(e=>(0,a.jsxs)("div",{className:"p-3 rounded-lg border border-gray-200 dark:border-gray-800 hover:border-blue-500 dark:hover:border-blue-500 transition-colors",children:[e.title&&(0,a.jsx)("h3",{className:"font-semibold mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-sm mb-2 whitespace-pre-wrap",children:e.content}),e.tags.length>0&&(0,a.jsx)("div",{className:"flex gap-1 flex-wrap mb-2",children:e.tags.map(e=>(0,a.jsxs)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-800 rounded",children:["#",e]},e))}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{m(e),x(e.title||""),u(e.content),j(e.tags),c(!0)},className:"p-1 hover:text-blue-600",children:(0,a.jsx)(N,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>l(e.id),className:"p-1 hover:text-red-600",children:(0,a.jsx)(f.Trash2,{className:"w-4 h-4"})})]})]})]},e.id))})]})}function C({className:e}){return(0,a.jsx)("span",{className:e,children:"ðŸ“"})}var w=e.i(78917);function O({onClose:e,onNavigate:t}){let{bookmarks:r,removeBookmark:s}=(0,h.useBibleStudy)();return(0,a.jsxs)("div",{className:"fixed right-0 top-0 h-full w-full md:w-96 bg-white dark:bg-gray-900 shadow-2xl z-50 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Star,{className:"w-5 h-5 text-yellow-500"}),(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Bookmarks"})]}),(0,a.jsx)("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:(0,a.jsx)(v.X,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===r.length?(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(b.Star,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,a.jsx)("p",{children:"No bookmarks yet"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Select a verse and click the bookmark icon"})]}):(0,a.jsx)("div",{className:"space-y-2",children:r.map(r=>{var o,n,i;let l,d=x(r.verseKey);return(0,a.jsx)("div",{className:"p-3 rounded-lg border border-gray-200 dark:border-gray-800 hover:border-blue-500 dark:hover:border-blue-500 transition-colors group",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),(0,a.jsx)("h3",{className:"font-semibold",children:r.label})]}),d&&(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(o=d.bookId,n=d.chapter,i=d.verse,(l=p(o))?void 0!==i?`${l.name} ${n}:${i}`:`${l.name} ${n}`:"")}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:new Date(r.createdAt).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)("button",{onClick:()=>{let a;(a=x(r.verseKey))&&t&&(t(a.bookId,a.chapter),e())},className:"p-1.5 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600",title:"Go to verse",children:(0,a.jsx)(w.ExternalLink,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>s(r.id),className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-600",title:"Remove bookmark",children:(0,a.jsx)(f.Trash2,{className:"w-4 h-4"})})]})]})},r.id)})})})]})}function T({initialBook:e=1,initialChapter:s=1}){let{preferences:x,updatePreferences:v,highlights:k,addHighlight:N,removeHighlight:f,getHighlightColor:C,highlightColors:w,addNote:T,notes:S,addBookmark:E,bookmarks:P,addToHistory:H}=(0,h.useBibleStudy)(),[L,M]=(0,t.useState)(e),[J,K]=(0,t.useState)(s),[$,z]=(0,t.useState)([]),[A,R]=(0,t.useState)(!0),[B,I]=(0,t.useState)(null),[D,G]=(0,t.useState)(!1),[V,q]=(0,t.useState)(!1),[W,F]=(0,t.useState)(!1),[U,Z]=(0,t.useState)(!1),[X,Q]=(0,t.useState)(!1),[Y,_]=(0,t.useState)(""),[ee,ea]=(0,t.useState)([]),[et,er]=(0,t.useState)(!1),es=p(L);async function eo(){R(!0);try{let e=await y.bibleStorage.getVersesByChapter(L,J);0===e.length&&(e=await en(L,J)),z(e),H(`${es?.abbreviation}.${J}.1`,`${es?.abbreviation}.${J}`)}catch(e){console.error("Error loading chapter:",e)}finally{R(!1)}}async function en(e,a){let t=p(e);if(!t)return[];let r=await fetch(`https://cdn.jsdelivr.net/gh/wldeh/bible-api/bibles/en-kjv/books/${t.abbreviation.toLowerCase()}/chapters/${a}.json`);if(!r.ok)throw Error("Failed to fetch chapter");let s=(await r.json()).data.map((r,s)=>({id:crypto.randomUUID(),bookId:e,chapter:a,verse:s+1,text:r.text||r,verseKey:`${t.abbreviation}.${a}.${s+1}`,isPoetry:g.includes(e),isRedLetter:!1,words:(r.text||r).split(/\s+/)}));return await y.bibleStorage.saveVerses(s),s}function ei(e){I(B===e?null:e)}async function el(e,a,t){C(e)===a?await f(e):await N(e,a,t),F(!1)}async function ed(){if(Y.trim()){R(!0);try{let e=await y.bibleStorage.searchVerses(Y);ea(e),er(!0)}catch(e){console.error("Search error:",e)}finally{R(!1)}}}function ec(e){let a=C(e);return a?{backgroundColor:a,borderRadius:"4px",padding:"2px 4px",margin:"-2px -4px"}:{}}es&&g.includes(es.id),es&&u.includes(es.id),(0,t.useEffect)(()=>{eo()},[L,J]);let eb=x?.fontSize||16,eh=x?.lineSpacing||150,em=x?.fontFamily==="serif"?"Georgia, serif":"system-ui, sans-serif",eg=x?.theme||"light",eu=x?.readingMode||"study",ep=x?.columnLayout||"single",ex=x?.showVerseNumbers!==!1;return(0,a.jsxs)("div",{className:`min-h-screen ${{light:"bg-white text-gray-900",dark:"bg-gray-900 text-gray-100",sepia:"bg-amber-50 text-amber-950","high-contrast":"bg-black text-white"}[eg]}`,children:[(0,a.jsx)("div",{className:"sticky top-0 z-50 border-b shadow-sm backdrop-blur-sm bg-opacity-90",style:{backgroundColor:"dark"===eg?"#111827":"sepia"===eg?"#fffbeb":"#ffffff"},children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("button",{onClick:()=>q(!V),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[(0,a.jsx)(r.Book,{className:"w-5 h-5"}),(0,a.jsxs)("span",{className:"font-semibold",children:[es?.name," ",J]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:function(){if(J>1)K(J-1);else if(L>1){let e=p(L-1);e&&(M(L-1),K(e.chapterCount))}},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",disabled:1===L&&1===J,children:(0,a.jsx)(o,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:function(){es&&(J<es.chapterCount?K(J+1):L<66&&(M(L+1),K(1)))},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",disabled:66===L&&J===(es?.chapterCount||0),children:(0,a.jsx)(n,{className:"w-5 h-5"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-700 mx-2"}),(0,a.jsx)("button",{onClick:()=>er(!et),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Search",children:(0,a.jsx)(i.Search,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>F(!W),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Highlight",children:(0,a.jsx)(l,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>Z(!U),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Notes",children:(0,a.jsx)(d,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>Q(!X),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Bookmarks",children:(0,a.jsx)(b.Star,{className:"w-5 h-5"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-700 mx-2"}),(0,a.jsx)("button",{onClick:()=>G(!D),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Settings",children:(0,a.jsx)(c.Settings,{className:"w-5 h-5"})})]})]}),et&&(0,a.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:Y,onChange:e=>_(e.target.value),onKeyDown:e=>"Enter"===e.key&&ed(),placeholder:"Search the Bible...",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{onClick:ed,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Search"})]}),D&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Font Size"}),(0,a.jsx)("input",{type:"range",min:"12",max:"36",value:eb,onChange:e=>v({fontSize:parseInt(e.target.value)}),className:"w-full"}),(0,a.jsxs)("span",{className:"text-xs",children:[eb,"px"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Line Spacing"}),(0,a.jsx)("input",{type:"range",min:"120",max:"200",value:eh,onChange:e=>v({lineSpacing:parseInt(e.target.value)}),className:"w-full"}),(0,a.jsxs)("span",{className:"text-xs",children:[eh,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Font"}),(0,a.jsxs)("select",{value:em,onChange:e=>v({fontFamily:"serif"===e.target.value?"serif":"sans-serif"}),className:"w-full px-2 py-1 rounded border",children:[(0,a.jsx)("option",{value:"serif",children:"Serif"}),(0,a.jsx)("option",{value:"sans-serif",children:"Sans-serif"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Theme"}),(0,a.jsxs)("select",{value:eg,onChange:e=>v({theme:e.target.value}),className:"w-full px-2 py-1 rounded border",children:[(0,a.jsx)("option",{value:"light",children:"Light"}),(0,a.jsx)("option",{value:"dark",children:"Dark"}),(0,a.jsx)("option",{value:"sepia",children:"Sepia"}),(0,a.jsx)("option",{value:"high-contrast",children:"High Contrast"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:ex,onChange:e=>v({showVerseNumbers:e.target.checked})}),(0,a.jsx)("span",{className:"text-sm",children:"Show verse numbers"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"readingMode",checked:"study"===eu,onChange:()=>v({readingMode:"study"})}),(0,a.jsx)("span",{className:"text-sm",children:"Study Mode"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"readingMode",checked:"reader"===eu,onChange:()=>v({readingMode:"reader"})}),(0,a.jsx)("span",{className:"text-sm",children:"Reader Mode"})]})]})]}),W&&B&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold mb-3",children:"Highlight Color"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:w.map(e=>(0,a.jsx)("button",{onClick:()=>el(B,e.color,e.label),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{backgroundColor:e.color},children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-900",children:e.label})},e.color))})]})]})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:A?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 dark:border-gray-100"})}):(0,a.jsxs)("div",{className:`${"double"===ep?"columns-2 gap-8":""}`,style:{fontSize:`${eb}px`,lineHeight:`${eh}%`,fontFamily:em},children:["study"===eu&&$.map(e=>(0,a.jsxs)("div",{onClick:()=>ei(e.verseKey),className:`mb-4 cursor-pointer transition-all ${B===e.verseKey?"ring-2 ring-blue-500 rounded-lg p-2":"p-2"}`,style:ec(e.verseKey),children:[ex&&(0,a.jsx)("span",{className:"inline-block w-8 text-sm font-semibold text-gray-500 dark:text-gray-400 mr-2",children:e.verse}),(0,a.jsx)("span",{children:e.text})]},e.verseKey)),"reader"===eu&&(0,a.jsx)("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:(0,a.jsx)("p",{children:$.map((e,t)=>(0,a.jsxs)("span",{onClick:()=>ei(e.verseKey),className:"cursor-pointer",style:ec(e.verseKey),children:[e.text,t<$.length-1&&" "]},e.verseKey))})})]})}),V&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>q(!1),children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[80vh] overflow-auto p-6",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Select Book"}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-700 dark:text-gray-300",children:"Old Testament"}),(0,a.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:m.filter(e=>"OT"===e.testament).map(e=>(0,a.jsx)("button",{onClick:()=>{M(e.id),K(1),q(!1)},className:"px-3 py-2 rounded-lg hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors text-left text-sm",children:e.name},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-700 dark:text-gray-300",children:"New Testament"}),(0,a.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:m.filter(e=>"NT"===e.testament).map(e=>(0,a.jsx)("button",{onClick:()=>{M(e.id),K(1),q(!1)},className:"px-3 py-2 rounded-lg hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors text-left text-sm",children:e.name},e.id))})]})]})}),et&&ee.length>0&&(0,a.jsxs)("div",{className:"fixed right-4 top-20 w-96 max-h-[600px] overflow-auto bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 p-4",children:[(0,a.jsxs)("h3",{className:"font-semibold mb-3",children:["Search Results (",ee.length,")"]}),(0,a.jsx)("div",{className:"space-y-2",children:ee.slice(0,50).map(e=>{let t=p(e.bookId);return(0,a.jsxs)("div",{onClick:()=>{M(e.bookId),K(e.chapter),er(!1),ea([])},className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[(0,a.jsxs)("div",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:[t?.name," ",e.chapter,":",e.verse]}),(0,a.jsxs)("div",{className:"text-sm",children:[e.text.substring(0,100),"..."]})]},e.verseKey)})})]}),U&&(0,a.jsx)(j,{verseKey:B||void 0,onClose:()=>Z(!1)}),X&&(0,a.jsx)(O,{onClose:()=>Q(!1),onNavigate:(e,a)=>{M(e),K(a)}})]})}e.s(["default",()=>T],48147)}]);