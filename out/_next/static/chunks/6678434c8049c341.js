(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98919,e=>{"use strict";let s=(0,e.i(75254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>s],98919)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],3116)},69638,e=>{"use strict";let s=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],69638)},86536,e=>{"use strict";let s=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},72987,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(98919),r=e.i(63488),l=e.i(90597);let i=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var n=e.i(69638),c=e.i(3116),o=e.i(86536);function d(){let[e,d]=(0,t.useState)(!1),[x,m]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[y,u]=(0,t.useState)([]),[g,b]=(0,t.useState)([]),[j,f]=(0,t.useState)(!1),[N,w]=(0,t.useState)("contacts"),[v,C]=(0,t.useState)(null),k=async()=>{f(!0);try{let e="https://frmeuzfzlclipxwskaaw.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZybWV1emZ6bGNsaXB4d3NrYWF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNTM1ODUsImV4cCI6MjA4MDYyOTU4NX0.qIhDK2vuxPv2fXVurKBTvU6efeCsTDGAbQml_fnBic4";console.log("Fetching from:",e);let[t,a]=await Promise.all([fetch(`${e}/rest/v1/contact_submissions?select=*&order=created_at.desc`,{headers:{apikey:s,Authorization:`Bearer ${s}`}}),fetch(`${e}/rest/v1/prayer_requests?select=*&order=created_at.desc`,{headers:{apikey:s,Authorization:`Bearer ${s}`}})]);console.log("Contacts response status:",t.status),console.log("Prayers response status:",a.status);let r=await t.json(),l=await a.json();console.log("Contacts data:",r),console.log("Prayers data:",l),Array.isArray(r)?u(r):(r.error&&console.error("Contacts error:",r.error),u([])),Array.isArray(l)?b(l):(l.error&&console.error("Prayers error:",l.error),b([]))}catch(e){console.error("Error loading data:",e),u([]),b([])}finally{f(!1)}},I=async(e,s,t)=>{try{let a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZybWV1emZ6bGNsaXB4d3NrYWF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNTM1ODUsImV4cCI6MjA4MDYyOTU4NX0.qIhDK2vuxPv2fXVurKBTvU6efeCsTDGAbQml_fnBic4";await fetch(`https://frmeuzfzlclipxwskaaw.supabase.co/rest/v1/${"contact"===e?"contact_submissions":"prayer_requests"}?id=eq.${s}`,{method:"PATCH",headers:{apikey:a,Authorization:`Bearer ${a}`,"Content-Type":"application/json",Prefer:"return=minimal"},body:JSON.stringify({status:t})}),k()}catch(e){console.error("Error updating status:",e)}},S=async(e,s)=>{if(confirm("Are you sure you want to delete this item?"))try{let t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZybWV1emZ6bGNsaXB4d3NrYWF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNTM1ODUsImV4cCI6MjA4MDYyOTU4NX0.qIhDK2vuxPv2fXVurKBTvU6efeCsTDGAbQml_fnBic4";await fetch(`https://frmeuzfzlclipxwskaaw.supabase.co/rest/v1/${"contact"===e?"contact_submissions":"prayer_requests"}?id=eq.${s}`,{method:"DELETE",headers:{apikey:t,Authorization:`Bearer ${t}`}}),k(),C(null)}catch(e){console.error("Error deleting item:",e)}};return((0,t.useEffect)(()=>{if(e){let e=setInterval(k,3e4);return()=>clearInterval(e)}},[e]),e)?(0,s.jsx)("div",{className:"animate-fade-in",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Admin Dashboard"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage contact submissions and prayer requests"})]}),(0,s.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,s.jsxs)("button",{onClick:()=>w("contacts"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-200 ${"contacts"===N?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:[(0,s.jsx)(r.Mail,{className:"w-5 h-5"}),"Contact Forms (",y.length,")"]}),(0,s.jsxs)("button",{onClick:()=>w("prayers"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-200 ${"prayers"===N?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:[(0,s.jsx)(l.Heart,{className:"w-5 h-5"}),"Prayer Requests (",g.length,")"]})]}),j?(0,s.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:"contacts"===N?(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-orange-100 overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gradient-to-r from-orange-500 to-red-600 text-white",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Type"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===y.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No contact submissions yet"})}):y.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-orange-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.email}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium",children:e.request_type})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"new"===e.status?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:["new"===e.status?(0,s.jsx)(c.Clock,{className:"w-3 h-3 inline mr-1"}):(0,s.jsx)(n.CheckCircle,{className:"w-3 h-3 inline mr-1"}),e.status]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)("button",{onClick:()=>C(e),className:"text-orange-600 hover:text-orange-700 font-medium",children:(0,s.jsx)(o.Eye,{className:"w-5 h-5"})})})]},e.id))})]})})}):(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-orange-100 overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gradient-to-r from-orange-500 to-red-600 text-white",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Preview"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===g.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No prayer requests yet"})}):g.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-orange-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.is_anonymous?"Anonymous":e.name||"Anonymous"}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.is_anonymous?"-":e.email||"-"}),(0,s.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",children:[e.prayer_request.substring(0,50),"..."]}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"new"===e.status?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:["new"===e.status?(0,s.jsx)(c.Clock,{className:"w-3 h-3 inline mr-1"}):(0,s.jsx)(n.CheckCircle,{className:"w-3 h-3 inline mr-1"}),e.status]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)("button",{onClick:()=>C(e),className:"text-orange-600 hover:text-orange-700 font-medium",children:(0,s.jsx)(o.Eye,{className:"w-5 h-5"})})})]},e.id))})]})})})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:v?(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-orange-100 p-6 sticky top-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Details"}),"subject"in v?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Name"}),(0,s.jsx)("p",{className:"text-gray-900",children:v.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Email"}),(0,s.jsx)("p",{className:"text-gray-900",children:v.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Type"}),(0,s.jsx)("p",{className:"text-gray-900",children:v.request_type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Subject"}),(0,s.jsx)("p",{className:"text-gray-900",children:v.subject})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Message"}),(0,s.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap",children:v.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Received"}),(0,s.jsx)("p",{className:"text-gray-900",children:new Date(v.created_at).toLocaleString()})]}),(0,s.jsxs)("div",{className:"pt-4 space-y-2 border-t",children:["new"===v.status&&(0,s.jsxs)("button",{onClick:()=>I("contact",v.id,"handled"),className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(n.CheckCircle,{className:"w-5 h-5"}),"Mark as Handled"]}),"handled"===v.status&&(0,s.jsxs)("button",{onClick:()=>I("contact",v.id,"new"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(c.Clock,{className:"w-5 h-5"}),"Mark as New"]}),(0,s.jsxs)("button",{onClick:()=>S("contact",v.id),className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(i,{className:"w-5 h-5"}),"Delete"]})]})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Name"}),(0,s.jsx)("p",{className:"text-gray-900",children:v.is_anonymous?"Anonymous":v.name||"Anonymous"})]}),!v.is_anonymous&&v.email&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Email"}),(0,s.jsx)("p",{className:"text-gray-900",children:v.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Prayer Request"}),(0,s.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap",children:v.prayer_request})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Sharing"}),(0,s.jsx)("p",{className:"text-gray-900",children:v.allow_sharing?"Allowed to share":"Keep private"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Received"}),(0,s.jsx)("p",{className:"text-gray-900",children:new Date(v.created_at).toLocaleString()})]}),(0,s.jsxs)("div",{className:"pt-4 space-y-2 border-t",children:["new"===v.status&&(0,s.jsxs)("button",{onClick:()=>I("prayer",v.id,"prayed"),className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(n.CheckCircle,{className:"w-5 h-5"}),"Mark as Prayed"]}),"prayed"===v.status&&(0,s.jsxs)("button",{onClick:()=>I("prayer",v.id,"new"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(c.Clock,{className:"w-5 h-5"}),"Mark as New"]}),(0,s.jsxs)("button",{onClick:()=>S("prayer",v.id),className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(i,{className:"w-5 h-5"}),"Delete"]})]})]})]}):(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-orange-100 p-6 sticky top-6",children:(0,s.jsx)("p",{className:"text-center text-gray-500",children:"Select an item to view details"})})})]})]})}):(0,s.jsx)("div",{className:"animate-fade-in",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[80vh] px-4",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full border border-orange-100",children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,s.jsx)("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 p-4 rounded-full",children:(0,s.jsx)(a.Shield,{className:"w-8 h-8 text-white"})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-center mb-2 text-gray-800",children:"Admin Access"}),(0,s.jsx)("p",{className:"text-center text-gray-600 mb-6",children:"Enter password to view submissions"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"ShameToFlame2024!"===x?(d(!0),p(""),k()):p("Incorrect password")},className:"space-y-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"password",value:x,onChange:e=>m(e.target.value),placeholder:"Enter admin password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),h&&(0,s.jsx)("p",{className:"text-red-500 text-sm text-center",children:h}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 rounded-lg font-semibold hover:from-orange-600 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Login"})]})]})})})}e.s(["default",()=>d],72987)}]);